<!DOCTYPE html>
<html lang="en">
  <head>
	<link
	  rel="stylesheet"
	  href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
	  integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
	  crossorigin="anonymous"
	  />
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
	<meta name="description" content=""/>
	<link rel="stylesheet" href="main.css">
	<nav class="navbar navbar-expand-lg navbar-light bg-light">
	  <a class="navbar-brand" href="/">lichess Review</a>
	  <div class="navbar">
		<div class="navbar-nav">
		  <a class="nav-link" href="/"> Home</a>
		  <a class="nav-link active" href="/browse">Browse Data</a>
		  <a class="nav-link" href="/stats">Statistics</a>
		  <a class="nav-link" href="/about">About</a>
		</div>
	  </div>
	</nav>
	<title>lichess Review - Browse</title>
  </head>
  <body>
	<p></p>
	<h2 style="text-align: center">Lichess Games Dataset</h2>

	<a class="btn btn-success" href="/create-game">Create</a>

	<p></p>

	<table class="table table-striped custab">
	  <thead>
		<tr>
		  <th>Lichess Match ID</th>
		  <th>White ID (Rating)</th>
		  <th>Black ID (Rating)</th>
		  <th>Rated Game?</th>
		  <th>Turns Played</th>
		  <th>Winner</th>
		  <th>Victory Status</th>
		</tr>

		<% games.forEach(game => { %>

		<tr>
		  <td><a href="https://www.lichess.org/<%= game.match_id %>"><%= game.match_id %></a></td>
		  <td><%= game.white_id %> (<%= game.white_rating %>)</td>
		  <td><%= game.black_id %> (<%= game.black_rating %>)</td>
		  <td><%= game.rated %></td>
		  <td><%= game.turns %></td>
		  <td><%= game.winner %></td>
		  <td><%= game.victory_status %></td>
		  <td class="text-center"><a href="/browse/update/<%= game._id %>" class="btn btn-info btn-xs"><span class="glyphicon glyphicon-edit"></span>Edit</a> 
			<a href="/browse/delete/<%= game.id %>" class="btn btn-danger btn-xs"><span class="glyphicon glyphicon-remove"></span>Delete</a></td>
		</tr>
		<% }); %>
	  </thead>
	</table>

	<div class="row col-md-12 col-md-offset-2 custyle mx-auto">
      
      
      
      <nav aria-label="Page navigation example">
		
		
		
        <ul class="pagination">

          <% if (currentPage === 1) { %>
          
          <li class="page-item disabled"><a class="page-link" href="#">First</a></li>     
          <% } %>  
          <% if (currentPage > 1) { %>
          <li class="page-item"><a class="page-link" href="/browse">First</a></li>
          <% } %>  

          <li class="page-item"><a class="page-link" href="/browse?page=<%= currentPage === numberOfPages ? currentPage - 10 :  currentPage + 1 %>"><%= currentPage === numberOfPages ? currentPage - 10 :  currentPage + 1 %></a></li>
          <li class="page-item"><a class="page-link" href="/browse?page=<%= currentPage === numberOfPages ? currentPage - 9 :  currentPage + 2 %>"><%= currentPage === numberOfPages ? currentPage - 9 :  currentPage + 2 %></a></li>
          <li class="page-item"><a class="page-link" href="/browse?page=<%= currentPage === numberOfPages ? currentPage - 8 :  currentPage + 3 %>"><%= currentPage === numberOfPages ? currentPage - 8 :  currentPage + 3 %></a></li>
          <li class="page-item"><a class="page-link" href="/browse?page=<%= currentPage === numberOfPages ? currentPage - 7 :  currentPage + 4 %>"><%= currentPage === numberOfPages ? currentPage - 7 :  currentPage + 4 %></a></li>
          <li class="page-item"><a class="page-link" href="/browse?page=<%= currentPage === numberOfPages ? currentPage - 6 :  currentPage + 5 %>"><%= currentPage === numberOfPages ? currentPage - 6 :  currentPage + 5 %></a></li>
          <li class="page-item"><a class="page-link" href="/browse?page=<%= currentPage === numberOfPages ? currentPage - 5 :  currentPage + 6 %>"><%= currentPage === numberOfPages ? currentPage - 5 :  currentPage + 6 %></a></li>
          <li class="page-item"><a class="page-link" href="/browse?page=<%= currentPage === numberOfPages ? currentPage - 4 :  currentPage + 7 %>"><%= currentPage === numberOfPages ? currentPage - 4 :  currentPage + 7 %></a></li>
          <li class="page-item"><a class="page-link" href="/browse?page=<%= currentPage === numberOfPages ? currentPage - 3 :  currentPage + 8 %>"><%= currentPage === numberOfPages ? currentPage - 3 :  currentPage + 8 %></a></li>
          <li class="page-item"><a class="page-link" href="/browse?page=<%= currentPage === numberOfPages ? currentPage - 2 :  currentPage + 9 %>"><%= currentPage === numberOfPages ? currentPage - 2 :  currentPage + 9 %></a></li>
          <li class="page-item"><a class="page-link" href="/browse?page=<%= currentPage === numberOfPages ? currentPage - 1 :  currentPage + 10 %>"><%= currentPage === numberOfPages ? currentPage - 1 :  currentPage + 10 %></a></li>
          
          <% if (currentPage === numberOfPages) { %>
          
          <li class="page-item disabled"><a class="page-link" href="">Last</a></li>     
          <% } %>  
          
          <% if (currentPage < numberOfPages) { %>
             <li class="page-item"><a class="page-link" href="/browse?page=<%= numberOfPages %>">Last</a></li>
			 <% } %>  
			 
        </ul>
	  </nav>
    </div>
	<%- include("common/footer"); -%>
  </body>
</html>
